// Copyright 2016 Pixela Labs. All Rights Reserved.
#pragma once


class UvrDeviceBase;


class UvrRenderManager :
	public  IPUvrRenderManager,
	private UvrNoncopyable,
	private UvrNonmoveable
{
public:
	UvrRenderManager();
	virtual ~UvrRenderManager();

public:
	//////////////////////////////////////////////////////////////////////////////////////////////
	// IPUvrManager
	//////////////////////////////////////////////////////////////////////////////////////////////
	virtual bool Init() override;
	virtual void Release() override;
	virtual bool StartSession(const FString& configPath) override;
	virtual void EndSession() override;

public:
	//////////////////////////////////////////////////////////////////////////////////////////////
	// IUvrRenderManager
	//////////////////////////////////////////////////////////////////////////////////////////////
	IUvrStereoDevice* GetStereoDevice() override;

public:
	//////////////////////////////////////////////////////////////////////////////////////////////
	// IPUvrRenderManager
	//////////////////////////////////////////////////////////////////////////////////////////////


private:
	UvrDeviceBase* CreateStereoDevice();

private:
	// Interface pointer to eliminate type casting
	IUvrStereoDevice* m_pDevice = nullptr;
};

